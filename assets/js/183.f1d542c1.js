(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{659:function(t,n,a){"use strict";a.r(n);var s=a(0),e=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("Spring Boot 2.0 提供了很多新特性，其中就有一个小彩蛋：动态 Banner，今天我们就先拿这个来尝尝鲜。")]),t._v(" "),n("h2",{attrs:{id:"配置依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置依赖"}},[t._v("#")]),t._v(" 配置依赖")]),t._v(" "),n("p",[t._v("使用 Spring Boot 2.0 首先需要将项目依赖包替换为刚刚发布的 2.0 RELEASE，现在网站"),n("code",[t._v("https://start.spring.io/")]),t._v("也将 Spring Boot 2.0 设置为默认版本。")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("parent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-parent"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.0.0.RELEASE"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("parent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("设置完毕后，"),n("code",[t._v("dependencies")]),t._v("中没有指明版本的依赖包，将自动使用2.0.0.RELEASE依赖的版本。")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencies")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("Spring Boot 2.0 刚刚发布，一些 Maven 仓库还没更新，如果导入项目后依赖包不能下载，可以手动添加 Spring Boot 官方 Maven 仓库。")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repositories")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("repository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-milestones"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Spring Milestones"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("https://repo.spring.io/libs-milestone"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("url")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("snapshots")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("enabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("snapshots")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repository")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("repositories")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("大家做好心理准备，第一次使用 Spring Boot 2.0 ，完整依赖包需要下载半小时左右。")])]),t._v(" "),n("h2",{attrs:{id:"spring-boot-更换-banner"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot-更换-banner"}},[t._v("#")]),t._v(" Spring Boot 更换 Banner")]),t._v(" "),n("p",[t._v("我们先来回顾一下在 Spring Boot 1.0 中如何更换启动 Banner，其实都很简单，只需要在"),n("code",[t._v("src/main/resources")]),t._v("路径下新建一个"),n("code",[t._v("banner.txt")]),t._v("文件，"),n("code",[t._v("banner.txt")]),t._v("中填写好需要打印的字符串内容即可。")]),t._v(" "),n("p",[t._v("一般情况下，我们会借助第三方工具帮忙转化内容，如网站"),n("code",[t._v("https://www.network-science.de/ascii/")]),t._v("将文字转化成字符串，网站："),n("code",[t._v("https://www.degraeve.com/img2txt.php")]),t._v("可以将图片转化成字符串。")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://www.itmind.net/assets/images/2018/SpringBoot/hello.png",alt:""}})]),t._v(" "),n("p",[t._v("我们以Hello World为启动字符串来进行测试：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[t._v(".__           .__  .__                               .__       .___\n|  |__   ____ |  | |  |   ____   __  _  _____________|  |    __| _/\n|  |  \\_/ __ \\|  | |  |  /  _ \\  \\ \\/ \\/ /  _ \\_  __ \\  |   / __ | \n|   Y  \\  ___/|  |_|  |_(  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("_")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" )  \\     (  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("_")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" )  | \\/  |__/ /_/ | \n|___|  /\\___  >____/____/\\____/    \\/\\_/ \\____/|__|  |____/\\____ | \n     \\/     \\/                                                  \\/ \n")])])]),n("p",[t._v("在 Spring Boot 2.0 项目"),n("code",[t._v("src/main/resources")]),t._v("路径下新建一个"),n("code",[t._v("banner.txt")]),t._v("文件，粘贴上述字符串，启动 Spring Boot 项目观察启动日志，发现 Spring Boot 2.0 已经将默认的 Spring 字符串替换为 hello world。说明 Spring Boot 2.0 也支持1.0更换 Banner 的方法。")]),t._v(" "),n("p",[t._v("接下来在 Spring Boot 2.0 项目中测试打印动态 Banner ，使用的gif如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://www.itmind.net/assets/images/2018/SpringBoot/banner.gif",alt:""}})]),t._v(" "),n("p",[t._v("同样我们将 banner.gif 文件放到项目的"),n("code",[t._v("src/main/resources")]),t._v("路径下，启动项目进行测试，输出栏打印信息如下：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[t._v("\n                                    \n                                                                              \n                                                                              \n                                        ..                                    \n                                       .::*                                   \n                                        ...                                   \n                                                                              \n                                                                              \n                         \n                                                                              \n\n\n\n  .....                                                             ....      \n  ........                                                            .    ...\n  ........                                                                . ..\n  ......                                                                  ....\n  ....                                                                     ...\n  .                                                                          .\n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                    ..**::**..                                \n                                  .*::::::::::*.                              \n                                 .*::::::::::::*.                             \n                                 .*::::::::::::*.                             \n                                 .*::::::::::::*.                             \n                                  .*::::::::::*.                              \n                                    ..**::***.                                \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n                                                                              \n  ..                                                                          \n  .....                                                                     ..\n  .....                                                                    ...\n  ......                                                                ......\n  . ...    .                                                             .....\n  .       ....                                                             . .\n\n\n\n                ............................   .............                  \n              .................. .........       ................    .        \n          ...................                   ... . ... ............        \n       .............   . ...                             ...............      \n      .   .........                                         ...........       \n         ..........                                            ....... ....   \n        ............                                                ........  \n        ........                                                     ........ \n      .... .                                                        ......... \n     ........                                                        ........ \n   .........                       ..********..                      ......*..\n  ........                      .**::::::::::::**.                    ........\n  ...........                 .**::::::::::::::::**.                   .......\n  ......                     .*::::::::::::::::::::*.                  .......\n  ... ..                    .*::::::::::::::::::::::*.                 .......\n  ......                    .::::::::::::::::::::::::.                 .......\n  ..........                .::::::::::::::::::::::::.                ... ....\n  .........                 .*:::::::::::::::::::::::.                    ....\n  .........                 .*::::::::::::::::::::::*.                     ...\n  .........                  .*::::::::::::::::::::*.                     ....\n   ........                   .**::::::::::::::::**.                 .........\n    ... ....                    .**::::::::::::**.                   .........\n  . ........                        .********..                      .........\n     ....... .                                                      ......*.. \n     .........                                                     .   .....  \n      .......                                                    .........    \n      ........     .                                          ............    \n      ............  ..                                        ...........     \n        . .............                                        .........      \n         ................                              ....   ..........      \n           ............. ....    .                   ......... . ..... .      \n            .... ...... .........       . .. .... .............. ....         \n              ..       .............  ...........  ..............             \n\n\n                                                                              \n                                                                              \n                                                                              \n                                ::.        .*:*                               \n                             :.        *:*      *. .*:*                       \n                          .:*.    *:   .*:*.       :.   .:                    \n                      :* :     :.                .::::*    :                  \n                    :  :    *         *****.....       *.:   :                \n                  :   : .:*         .::::::::::**..     ..  : *               \n                 :   *:           .*:::::::::::::::*.     *   **              \n                o  ***        ...**::::::::::::::::::**.   *   :.:            \n               : .* :    .....***::::::::::::::::::::::*.   :   : o           \n               :*.  *   ..*****:::::::::::::::::::::::::*.   *  :  o          \n               :   .   .*::::::::::::::::::::::::::::::::*.    ::   *         \n              :*   :   *::::::::::::::::::::::::::::::::::*     :   o         \n             * o  *   .*::::::::::::::::::::::::::::::::::*.   .:o  :         \n             :  : :   .*::::::::::::::::::::::::::::::::::*.   :  . :         \n             :  ..    .*::::::::::::::::::::::::::::::::::*.   *  : *         \n             :   :    .*::::::::::::::::::::::::::::::::::*   :   *:          \n             .   :*    .*o:::::::::::::::::::::::::::::::*.   .   :           \n              :  :  *   .*::::::::::::::::::::::::::::::*.   *   :*           \n               o *   :   .*::::::::::::::::::::::::::::*.    : ** :           \n                 :*   *    .*::::::::::::::::::::::::**.    *..  *            \n                  **   *    ..*::::::::::::::::::::*..     :*   *             \n                   * o  ..     ..**::::::::::::**..    .:. :   :              \n                    :   o.:        ...******...      *.   :  :.               \n                      :     ::o:.                *:     * *:                  \n                        :.    :       .*:*.   :*    .*::                      \n                           .:*  .*      *o:        .:                         \n                                   .:*.        .*:                                          \n                 \n        \n\n        ...                                                                      \n\n")])])]),n("p",[t._v("通过上述输出我们发现 Spring Boot 在启动的时候，会将 gif 图片的每一个画面，按照顺序打印在日志中，所有的画面打印完毕后，才会启动 Spring Boot 项目。")]),t._v(" "),n("p",[t._v("如果目录"),n("code",[t._v("src/main/resources")]),t._v("下同时存在"),n("code",[t._v("banner.txt")]),t._v("和"),n("code",[t._v("banner.gif")]),t._v("，项目会先将"),n("code",[t._v("banner.gif")]),t._v("每一个画面打印完毕之后，再打印"),n("code",[t._v("banner.txt")]),t._v("中的内容。")]),t._v(" "),n("p",[t._v("项目的启动 Banner 有什么用呢，在一些大的组织或者公司中，可以利用这个特性定制自己专属的启动画面，增加团队对品牌的认同感。")]),t._v(" "),n("p",[n("strong",[n("a",{attrs:{href:"https://github.com/ityouknow/spring-boot-examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例代码-github"),n("OutboundLink")],1)])]),t._v(" "),n("p",[n("strong",[n("a",{attrs:{href:"https://gitee.com/ityouknow/spring-boot-examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例代码-码云"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/snicoll-demos/demo-animated-banner",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo-animated-banner"),n("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=e.exports}}]);