(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{453:function(n,e,s){"use strict";s.r(e);var t=s(0),r=Object(t.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("Boxx"),n._v(" "),e("h4",{attrs:{id:"安装nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[n._v("#")]),n._v(" 安装nginx")]),n._v(" "),e("ul",[e("li",[n._v("下载nginx")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("docker pull nginx:latest\n")])])]),e("ul",[e("li",[n._v("创建目录")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("mkdir /project/nginx/data\nmkdir /project/nginx/config\t\n")])])]),e("ul",[e("li",[e("p",[n._v("启动nginx")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("docker run --detach \\\n    --name web-nginx \\\n    -p 443:443\\\n    -p 80:80 \\\n    -v /project/nginx/data:/usr/share/nginx/html:rw\\\n    -v /project/nginx/config/nginx.conf:/etc/nginx/nginx.conf/:rw\\\n    -v /project/nginx/config/conf.d/default.conf:/etc/nginx/conf.d/default.conf:rw\\\n    -v /project/nginx/logs:/var/log/nginx/:rw\\\n    -v /project/nginx/ssl:/ssl/:rw\\\n    -d nginx:v1\n\n")])])]),e("ul",[e("li",[e("p",[n._v("nginx.conf文件")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('#运行nginx的用户\nuser nginx;\n#启动进程设置成和CPU数量相等\nworker_processes 1;\n\n#全局错误日志及PID文件的位置\nerror_log /var/log/nginx/error.log warn;\npid    /var/run/nginx.pid;\n\n#工作模式及连接数上限\nevents {\n    #单个后台work进程最大并发数设置为1024\n  worker_connections 1024;\n}\n\n\nhttp {\n    #设定mime类型\n  include    /etc/nginx/mime.types;\n  default_type application/octet-stream;\n\n    #设定日志格式\n  log_format main \'$remote_addr - $remote_user [$time_local] "$request" \'\n           \'$status $body_bytes_sent "$http_referer" \'\n           \'"$http_user_agent" "$http_x_forwarded_for"\';\n\n  access_log /var/log/nginx/access.log main;\n\n  sendfile    on;\n  #tcp_nopush   on;\n\n    #设置连接超时的事件\n  keepalive_timeout 65;\n\n    #开启GZIP压缩\n  #gzip on;\n\n  include /etc/nginx/conf.d/*.conf;\n}\n')])])])]),n._v(" "),e("li",[e("p",[n._v("default.conf")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("\tserver {\n    listen    80;       #侦听80端口，如果强制所有的访问都必须是HTTPs的，这行需要注销掉\n    listen    443 ssl;\n    server_name  www.gj.myylc.cn;             #域名\n\n    # 增加ssl\n    #ssl on;        #如果强制HTTPs访问，这行要打开\n    ssl_certificate /ssl/server.crt;\n    ssl_certificate_key /ssl/server.key;\n\n    ssl_session_cache    shared:SSL:1m;\n    ssl_session_timeout  5m;\n\n     # 指定密码为openssl支持的格式\n     ssl_protocols  SSLv2 SSLv3 TLSv1.2;\n\n     ssl_ciphers  HIGH:!aNULL:!MD5;  # 密码加密方式\n     ssl_prefer_server_ciphers  on;   # 依赖SSLv3和TLSv1协议的服务器密码将优先于客户端密码\n\n     # 定义首页索引目录和名称\n     location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n     }\n\n    #重定向错误页面到 /50x.html\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n}\n")])])])])])])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);